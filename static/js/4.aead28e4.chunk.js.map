{"version":3,"sources":["components/Content/Dialogs/Dialogs.module.css","components/Content/Dialogs/Message/MessageItem.module.css","components/Content/Dialogs/Message/AddMessageForm/AddMessageForm.module.css","components/Content/Dialogs/DialogItem/DialogItem.jsx","components/Content/Dialogs/Message/MessageItem.jsx","components/Content/Dialogs/Message/AddMessageForm/AddMessageForm.jsx","components/Content/Dialogs/Dialogs.jsx","hoc/WithAuthRedirect.js","components/Content/Dialogs/DialogsContainer.jsx"],"names":["module","exports","DialogItem","props","path","id","className","style","dialog","to","activeClassName","activeLink","name","MessageItem","message","maxLength50","maxLengthCreator","Textarea","Element","reduxForm","form","onSubmit","handleSubmit","NewMessage","addMessageButton","Field","component","validate","required","placeholder","NewMessageArea","Dialogs","dialogsElements","dialogsPage","users","map","key","toString","messagesElements","messagesData","messages","msg","dialogs","dialogsItems","data","postMessage","newMessageBody","mapStateToPropsForRedirect","state","isAuth","auth","compose","connect","dispatch","addMessageActionCreator","Component","RedirectComponent","this","React"],"mappings":"mGACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,WAAa,4BAA4B,OAAS,0B,oBCApJD,EAAOC,QAAU,CAAC,QAAU,+B,oBCA5BD,EAAOC,QAAU,CAAC,WAAa,mCAAmC,eAAiB,uCAAuC,iBAAmB,2C,uGCgB9HC,EAbI,SAACC,GAClB,IAAIC,EAAO,YAAcD,EAAME,GAE/B,OACE,yBAAKC,UAAWC,IAAMC,QACpB,kBAAC,IAAD,CAASC,GAAIL,EAAMM,gBAAiBH,IAAMI,YACvCR,EAAMS,Q,kBCHAC,EAJK,SAACV,GACnB,OAAO,yBAAKG,UAAWC,IAAMO,SAAUX,EAAMW,U,mDCG3CC,EAAcC,YAAiB,IAC7BC,EAAWC,YAAQ,YAqBVC,cAAU,CAACC,KAAM,2BAAjBD,EAnBQ,SAAChB,GACpB,OACE,0BAAMkB,SAAUlB,EAAMmB,cACpB,yBAAKhB,UAAWC,IAAMgB,YACpB,6BACE,4BAAQjB,UAAWC,IAAMiB,kBAAzB,SAEF,kBAACC,EAAA,EAAD,CACEC,UAAWT,EACXU,SAAU,CAACC,IAAWb,GACtBH,KAAK,iBACLiB,YAAY,qBACZvB,UAAWC,IAAMuB,sBCSdC,EAvBC,SAAC5B,GACf,IAEI6B,EAAkB7B,EAAM8B,YAAYC,MAAMC,KAAI,SAAC3B,GAAD,OAChD,kBAAC,EAAD,CAAY4B,IAAK5B,EAAOH,GAAGgC,WAAYzB,KAAMJ,EAAOI,KAAMP,GAAIG,EAAOH,QAEnEiC,EAAmBnC,EAAM8B,YAAYM,aAAaC,SAASL,KAAI,SAACM,GAAD,OACjE,kBAAC,EAAD,CAAaL,IAAKK,EAAIpC,GAAGgC,WAAYvB,QAAS2B,EAAI3B,QAAST,GAAIoC,EAAIpC,QAOrE,OACE,yBAAKC,UAAWC,IAAMmC,SACpB,yBAAKpC,UAAWC,IAAMoC,cAAeX,GACrC,yBAAK1B,UAAWC,IAAMiC,UAAWF,GACjC,kBAAC,EAAD,CAAgBjB,SARA,SAACuB,GACnBzC,EAAM0C,YAAYD,EAAKE,qB,uCCfvBC,EAA6B,SAACC,GAAD,MAAY,CACzCC,OAAQD,EAAME,KAAKD,S,OCiBRE,sBACXC,aAZkB,SAACJ,GACnB,MAAO,CACHf,YAAae,EAAMf,gBAGF,SAACoB,GACtB,MAAO,CACHR,YAAa,SAACC,GAAkBO,EAASC,YAAwBR,UDVzC,SAACS,GAAe,IACxCC,EADuC,4JAE3C,WACE,OAAKC,KAAKtD,MAAM8C,OAIT,kBAACM,EAAcE,KAAKtD,OAHlB,kBAAC,IAAD,CAAUM,GAAI,eAJkB,GACbiD,IAAMH,WAYtC,OAFqCH,YAAQL,EAARK,CAAoCI,KCG5DL,CAGbpB","file":"static/js/4.aead28e4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1aAB2\",\"dialogsItems\":\"Dialogs_dialogsItems__1G8uP\",\"activeLink\":\"Dialogs_activeLink__1Xapo\",\"dialog\":\"Dialogs_dialog__3JV8c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"MessageItem_message__1N1sG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NewMessage\":\"AddMessageForm_NewMessage__2vgXT\",\"NewMessageArea\":\"AddMessageForm_NewMessageArea__VxUM3\",\"addMessageButton\":\"AddMessageForm_addMessageButton__3bMfM\"};","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport style from \"../Dialogs.module.css\";\r\n\r\nconst DialogItem = (props) => {\r\n  let path = \"/dialogs/\" + props.id;\r\n\r\n  return (\r\n    <div className={style.dialog}>\r\n      <NavLink to={path} activeClassName={style.activeLink}>\r\n        {props.name}\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default DialogItem;\r\n","import React from \"react\";\r\nimport style from \"./../Message/MessageItem.module.css\";\r\n\r\nconst MessageItem = (props) => {\r\n  return <div className={style.message}>{props.message}</div>;\r\n};\r\n\r\nexport default MessageItem;\r\n","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Element } from '../../../../common/FormsControls/FormsControls';\r\nimport { maxLengthCreator, required } from '../../../../../utils/validators/validators';\r\nimport style from \"./AddMessageForm.module.css\";\r\n\r\n\r\nlet maxLength50 = maxLengthCreator(50);\r\nconst Textarea = Element('textarea');\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n      <form onSubmit={props.handleSubmit}>\r\n        <div className={style.NewMessage}>\r\n          <div>\r\n            <button className={style.addMessageButton}>post</button>\r\n          </div>\r\n          <Field\r\n            component={Textarea}\r\n            validate={[required , maxLength50]}\r\n            name=\"newMessageBody\"\r\n            placeholder=\"Enter your message\"\r\n            className={style.NewMessageArea}\r\n          />\r\n        </div>\r\n      </form>\r\n    );\r\n  };\r\n\r\nexport default reduxForm({form: 'dialog-add-message-form'})(AddMessageForm);","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport style from \"./Dialogs.module.css\";\r\nimport MessageItem from \"./Message/MessageItem\";\r\nimport { maxLengthCreator, required } from './../../../utils/validators/validators';\r\nimport AddMessageFrom from \"./Message/AddMessageForm/AddMessageForm\";\r\n\r\nconst Dialogs = (props) => {\r\n  let newMessageElement = React.createRef();\r\n\r\n  let dialogsElements = props.dialogsPage.users.map((dialog) => (\r\n    <DialogItem key={dialog.id.toString()} name={dialog.name} id={dialog.id} />\r\n  ));\r\n  let messagesElements = props.dialogsPage.messagesData.messages.map((msg) => (\r\n    <MessageItem key={msg.id.toString()} message={msg.message} id={msg.id} />\r\n  ));\r\n\r\n  let addNewMessage = (data) => {\r\n    props.postMessage(data.newMessageBody);\r\n  };\r\n\r\n  return (\r\n    <div className={style.dialogs}>\r\n      <div className={style.dialogsItems}>{dialogsElements}</div>\r\n      <div className={style.messages}>{messagesElements}</div>\r\n      <AddMessageFrom onSubmit={addNewMessage} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dialogs;\r\n","import React from \"react\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n  });\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) {\r\n        return <Redirect to={\"/login\"} />;\r\n      }\r\n\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n  \r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport {\r\n  addMessageActionCreator,\r\n  \r\n} from \"../../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport { withAuthRedirect } from './../../../hoc/WithAuthRedirect';\r\nimport { compose } from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        postMessage: (newMessageBody)=>{dispatch(addMessageActionCreator(newMessageBody));}\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs);"],"sourceRoot":""}